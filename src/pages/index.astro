---
import Container from "@/components/primitives/Container.astro";
import Hero from "@/components/sections/Hero.astro";
import Services from "@/components/sections/Services.astro";
import RecentWork from "@/components/sections/RecentWork.astro";
import Testimonial from "@/components/sections/Testimonial.astro";
import BlogLatest from "@/components/sections/BlogLatest.astro";
import PageLayout from "@/layouts/PageLayout.astro";

import CompetitionLatest from "@/components/sections/CompetitionLatest.astro";
import Banner from "@/components/sections/Banner.astro";
import LiveCompetitionBanner from "@/components/sections/LiveCompetitionBanner.astro";
import pagesData from "@/data/global_pages.json";

type HomepageData = {
  hero?: {
    title?: string;
    subtitle?: string;
    buttons?: {
      title: string;
      href: string;
      style: string;
      icon: string;
    }[];
  };
  services?: {
    title?: string;
    services?: {
      title: string;
      description: string;
      icon: string;
    }[];
  };
};

const data = pagesData?.homepage;

---
<PageLayout data={data}>
        <Hero 
            title={data?.hero?.title ?? ""}
            subtitle={data?.hero?.subtitle ?? ""}
            buttons={data?.hero?.buttons ?? []}
        />
        <Container>
            <LiveCompetitionBanner 
            title={data?.banner?.title}
            subtitle={data?.banner?.subtitle}
            description={data?.banner?.description}
            sponsorsLogos={data?.banner?.sponsorsLogos}
            sponsorName={data?.banner?.sponsorName}
            backgroundImage={data?.banner?.backgroundImage}
            cta={data?.banner?.cta}
            eventDate={data?.banner?.eventDate}
            bannerLink={data?.banner?.bannerLink}
            />

            <!-- <Banner
            title={data?.banner?.title}
            subtitle={data?.banner?.subtitle}
            sponsorLogo = {data.banner.sponsorLogo}
            backgroundImage = {data.banner.backgroundImage}
            cta={{ text: data.banner.cta.text, href: data.banner.cta.href }}
            /> -->

            <Services
               title={data?.services?.title ?? ""}
                services={data?.services?.services ?? []}
            />

            <!-- divider -->
            <div class="w-full h-[1px] bg-slate-200 my-20" />

            <BlogLatest title="Recent Blogs"
            buttons={[{title: "More Blogs", href: "/blogs", style: "button", icon: "iconamoon:arrow-top-right-1-thin"}]}
            />

            <!-- <RecentWork
                title="Recent Work"
                buttons={[{title: "More Work", href: "/works", style: "button", icon: "iconamoon:arrow-top-right-1-thin"}]}
            /> -->

            <CompetitionLatest title="Recent Competitions"
              buttons={[{title: "More Competitions", href: "/competition", style: "button", icon: "iconamoon:arrow-top-right-1-thin"}]}
            />

            <Testimonial
                testimonial="Sqratch created a fantastic website for us that turned all of our traffic into new leads. Their work has increased our business tremendously!"
                name="This is Sqratch"
            />

        </Container>
</PageLayout>